{"dependencies":[{"name":"tslib","loc":{"line":1,"column":26}},{"name":"./AsyncAction","loc":{"line":2,"column":28}},{"name":"./immediateProvider","loc":{"line":3,"column":34}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AsapAction = undefined;\n\nvar _tslib = require(\"tslib\");\n\nvar _AsyncAction = require(\"./AsyncAction\");\n\nvar _immediateProvider = require(\"./immediateProvider\");\n\nvar AsapAction = function (_super) {\n  (0, _tslib.__extends)(AsapAction, _super);\n  function AsapAction(scheduler, work) {\n    var _this = _super.call(this, scheduler, work) || this;\n    _this.scheduler = scheduler;\n    _this.work = work;\n    return _this;\n  }\n  AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n    if (delay !== null && delay > 0) {\n      return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n    }\n    scheduler.actions.push(this);\n    return scheduler._scheduled || (scheduler._scheduled = _immediateProvider.immediateProvider.setImmediate(scheduler.flush.bind(scheduler, undefined)));\n  };\n  AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n    if (delay != null && delay > 0 || delay == null && this.delay > 0) {\n      return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n    }\n    if (!scheduler.actions.some(function (action) {\n      return action.id === id;\n    })) {\n      _immediateProvider.immediateProvider.clearImmediate(id);\n      scheduler._scheduled = undefined;\n    }\n    return undefined;\n  };\n  return AsapAction;\n}(_AsyncAction.AsyncAction);\nexports.AsapAction = AsapAction;\n//# sourceMappingURL=AsapAction.js.map"},"hash":"cca2badfae0fd5995053f85a244df1f4"}