{"dependencies":[{"name":"../Subject","loc":{"line":1,"column":24}},{"name":"../util/lift","loc":{"line":2,"column":24}},{"name":"./OperatorSubscriber","loc":{"line":3,"column":41}},{"name":"../observable/innerFrom","loc":{"line":4,"column":26}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.windowWhen = windowWhen;\n\nvar _Subject = require(\"../Subject\");\n\nvar _lift = require(\"../util/lift\");\n\nvar _OperatorSubscriber = require(\"./OperatorSubscriber\");\n\nvar _innerFrom = require(\"../observable/innerFrom\");\n\nfunction windowWhen(closingSelector) {\n  return (0, _lift.operate)(function (source, subscriber) {\n    var window;\n    var closingSubscriber;\n    var handleError = function (err) {\n      window.error(err);\n      subscriber.error(err);\n    };\n    var openWindow = function () {\n      closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n      window === null || window === void 0 ? void 0 : window.complete();\n      window = new _Subject.Subject();\n      subscriber.next(window.asObservable());\n      var closingNotifier;\n      try {\n        closingNotifier = (0, _innerFrom.innerFrom)(closingSelector());\n      } catch (err) {\n        handleError(err);\n        return;\n      }\n      closingNotifier.subscribe(closingSubscriber = (0, _OperatorSubscriber.createOperatorSubscriber)(subscriber, openWindow, openWindow, handleError));\n    };\n    openWindow();\n    source.subscribe((0, _OperatorSubscriber.createOperatorSubscriber)(subscriber, function (value) {\n      return window.next(value);\n    }, function () {\n      window.complete();\n      subscriber.complete();\n    }, handleError, function () {\n      closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n      window = null;\n    }));\n  });\n}\n//# sourceMappingURL=windowWhen.js.map"},"hash":"66ae67e8a503aa130f65677c9e162d20"}